!function(e,o){"object"==typeof exports&&"undefined"!=typeof module?o(exports,require("rxjs/webSocket"),require("rxjs"),require("rxjs/operators"),require("ngx-moment"),require("@angular/common/http"),require("ts-md5"),require("@angular/router"),require("@angular/core"),require("@angular/common")):"function"==typeof define&&define.amd?define("utilidades-core",["exports","rxjs/webSocket","rxjs","rxjs/operators","ngx-moment","@angular/common/http","ts-md5","@angular/router","@angular/core","@angular/common"],o):o(e["utilidades-core"]={},e.rxjs.webSocket,e.rxjs,e.rxjs.operators,e.ngxMoment,e.ng.common.http,e.tsMd5,e.ng.router,e.ng.core,e.ng.common)}(this,function(e,n,i,r,o,t,a,s,c,l){"use strict";var p=(d.prototype.setPath=function(e){this.path=e},d.prototype.get=function(e){return this.http.get(""+this.path+e,this.httpOptions).pipe(r.map(function(e){return e.hasOwnProperty("Body")?e.Body:e}))},d.prototype.post=function(e,o){return this.http.post(""+this.path+e,o,this.httpOptions)},d.prototype.put=function(e,o){return this.http.put(""+this.path+e+"/"+o.Id,o,this.httpOptions)},d.prototype["delete"]=function(e,o){return this.http["delete"](""+this.path+e+"/"+o,this.httpOptions)},d.decorators=[{type:c.Injectable,args:[{providedIn:"root"}]}],d.ctorParameters=function(){return[{type:t.HttpClient}]},d.ngInjectableDef=c.defineInjectable({factory:function(){return new d(c.inject(t.HttpClient))},token:d,providedIn:"root"}),d);function d(e){this.http=e,this.httpOptions={headers:new t.HttpHeaders({Accept:"application/json",Authorization:"Bearer "+localStorage.getItem("access_token")})}}var u=Object.assign||function u(e){for(var o,t=1,i=arguments.length;t<i;t++)for(var n in o=arguments[t])Object.prototype.hasOwnProperty.call(o,n)&&(e[n]=o[n]);return e};function f(e,o){var t="function"==typeof Symbol&&e[Symbol.iterator];if(!t)return e;var i,n,r=t.call(e),a=[];try{for(;(void 0===o||0<o--)&&!(i=r.next()).done;)a.push(i.value)}catch(s){n={error:s}}finally{try{i&&!i.done&&(t=r["return"])&&t.call(r)}finally{if(n)throw n.error}}return a}function m(){for(var e=[],o=0;o<arguments.length;o++)e=e.concat(f(arguments[o]));return e}var g=(h.prototype.toogleMenuNotify=function(){this.menuActivo=!this.menuActivo;var e={activo:this.menuActivo};this.activo.next(e),this.menuActivo&&this.changeStateNoView()},h.prototype.closePanel=function(){this.menuActivo=!1,this.activo.next({activo:this.menuActivo})},h.prototype.init=function(e){console.info("...Init lib notificaciones"),this.NOTIFICACION_SERVICE=e,this.connect(),this.queryNotification()},h.prototype.getNotificaciones=function(){this.noNotifySubject.next(this.listMessage.filter(function(e){return"enviada"===e.Estado.toLowerCase()}).length),this.arrayMessagesSubject.next(this.listMessage)},h.prototype.getNotificacionEstadoUsuario=function(o){return this.notificacion_estado_usuario.filter(function(e){return e.Id===o})[0]},h.prototype.send_ping=function(){var e=this;this.timerPing$.subscribe(function(){return e.messagesSubject.next("ping")})},h.prototype.connect=function(){var o=this,e=localStorage.getItem("id_token"),t=localStorage.getItem("access_token");if(null!==e&&null!==t&&(this.roles=JSON.parse(atob(e.split(".")[1])).role.filter(function(e){return-1===e.indexOf("/")}),this.user=JSON.parse(atob(e.split(".")[1])).sub,0<this.roles.length)){var i=this.NOTIFICACION_SERVICE+"/join?id="+t;this.messagesSubject=n.webSocket({url:i,openObserver:{next:function(){o.send_ping()}}}),this.messagesSubject.pipe(r.map(function(e){return o.listMessage=m([e],o.listMessage),o.noNotifySubject.next(o.listMessage.filter(function(e){return"enviada"===e.Estado.toLowerCase()}).length),o.arrayMessagesSubject.next(o.listMessage),e})).subscribe(function(e){},function(e){console.info("websocketError:",e)},function(){return console.info("complete")})}},h.prototype.close=function(){this.messagesSubject.unsubscribe()},h.prototype.addMessage=function(e){this.listMessage=m([e],this.listMessage),this.noNotifySubject.next(this.listMessage.filter(function(e){return"enviada"===e.Estado.toLowerCase()}).length),this.arrayMessagesSubject.next(this.listMessage)},h.prototype.changeStateNoView=function(){var o=this;1<=this.listMessage.filter(function(e){return"enviada"===e.Estado.toLowerCase()}).length&&this.confService.post("notificacion_estado_usuario/changeStateNoView/"+this.user,{}).subscribe(function(e){o.listMessage=[],o.queryNotification()})},h.prototype.changeStateToView=function(e,o){var t=this;if("noleida"===o){var i=this.getNotificacionEstadoUsuario(e);this.confService.get("notificacion_estado_usuario/changeStateToView/"+i.Id).subscribe(function(e){t.listMessage=[],t.queryNotification()})}},h.prototype.queryNotification=function(){var t=this;this.confService.get("notificacion_estado_usuario?query=Usuario:"+this.user+",Activo:true&sortby=notificacion&order=asc&limit=-1").subscribe(function(e){null!==e&&(t.notificacion_estado_usuario=e,i.from(e).subscribe(function(e){if("undefined"!=typeof e.Notificacion){var o={Id:e.Id,Type:e.Notificacion.NotificacionConfiguracion.Tipo.Id,Content:JSON.parse(e.Notificacion.CuerpoNotificacion),User:e.Notificacion.NotificacionConfiguracion.Aplicacion.Nombre,Alias:e.Notificacion.NotificacionConfiguracion.Aplicacion.Alias,EstiloIcono:e.Notificacion.NotificacionConfiguracion.Aplicacion.EstiloIcono,FechaCreacion:new Date(e.Notificacion.FechaCreacion),FechaEdicion:new Date(e.Fecha),Estado:e.NotificacionEstado.CodigoAbreviacion};t.addMessage(o)}}))})},h.decorators=[{type:c.Injectable,args:[{providedIn:"root"}]}],h.ctorParameters=function(){return[{type:p}]},h.ngInjectableDef=c.defineInjectable({factory:function(){return new h(c.inject(p))},token:h,providedIn:"root"}),h);function h(e){var o=this;this.confService=e,this.NOTIFICACION_SERVICE="",this.TIME_PING=3e4,this.noNotifySubject=new i.Subject,this.noNotify$=this.noNotifySubject.asObservable(),this.arrayMessagesSubject=new i.Subject,this.arrayMessages$=this.arrayMessagesSubject.asObservable(),this.activo=new i.BehaviorSubject({}),this.activo$=this.activo.asObservable(),this.timerPing$=i.interval(this.TIME_PING),this.menuActivo=!1,this.listMessage=[],this.notificacion_estado_usuario=[],i.fromEvent(document,"mouseup").subscribe(function(e){o.activo&&(window.innerWidth-320<e.pageX&&77<e.pageY&&e.pageY<798||o.closePanel())})}var w={test:[{nombre:"GAIA - Gestión Administrativa",color:"#8E2825",aplicaciones:[{nombre:"AGORA",url:"https://www.google.com",estilo:"agora-info",descripcion:"Banco de proveedores que apoya procesos de cotización y contratación"},{nombre:"ARGO",url:"https://www.google.com",estilo:"argo-info",descripcion:"Apoyo en la gestión de procesos precontractuales, contractuales y de compras"},{nombre:"ARKA",url:"https://www.google.com",estilo:"arka-info",descripcion:"Gestión de los movimientos de almacén e inventarios apoyando los procesos relacionados a bienes"},{nombre:"CUMPLIDOS",url:"https://pruebascumplidos.portaloas.udistrital.edu.co",estilo:"cumplidos-info",descripcion:"Apoyo de procesos postcontractuales tanto para docentes de vinculacion especial como CPS"},{nombre:"RESOLUCIONES",url:"https://pruebasresoluciones.portaloas.udistrital.edu.co",estilo:"resoluciones-info",descripcion:"Gestión del vinculo contractual de los docentes de vinculación especial apoyando procesos de RRHH"},{nombre:"OIKOS",url:"https://www.google.com",estilo:"oikos-info",descripcion:"Registro y definición de las dependencias y espacios físicos de la universidad distrital"},{nombre:"SISIFO",url:"https://www.google.com",estilo:"sisifo-info",descripcion:"Sistema de gestion de planes de mejoramiento para los procesos académico administrativos"},{nombre:"TEMIS",url:"https://www.google.com",estilo:"temis-info",descripcion:"Apoyo en la definición y cálculo de las cuotas partes pensionales con entidades externas"},{nombre:"PERSEO",url:"https://www.google.com",estilo:"perseo-info",descripcion:"Permitir el desarrollo de procesos electorales dentro de la universidad de forma digital"}]},{nombre:"URANO - Gestión Académica",color:"#15485E",aplicaciones:[{nombre:"JANO",url:"https://www.google.com",estilo:"jano-info",descripcion:"Apoyo en el desarrollo de concursos de mérito para ocupar plazas de planta docente"},{nombre:"KYRON",url:"https://www.google.com",estilo:"kyron-info",descripcion:"Registro y consolidación de información de producción académica de docentes de planta"},{nombre:"POLUX",url:"https://www.google.com",estilo:"polux-info",descripcion:"Apoya la gestion de trabajos de grado"},{nombre:"SGA",url:"https://pruebassga.portaloas.udistrital.edu.co",estilo:"sga-info",descripcion:"Apoya el desarrollo de la misión de la universidad, así como diversos procesos administrativos"},{nombre:"CAMPUS",url:"https://www.google.com",estilo:"campus-info",descripcion:"Campus Virtual para postgrados"},{nombre:"SICIUD",url:"https://www.google.com",estilo:"siciud-info",descripcion:"Una breve descripción acerca de sisiud"}]},{nombre:"NIX - Gestión Financiera",color:"#DE9E0F",aplicaciones:[{nombre:"KRONOS",url:"https://pruebaspresupuesto.portaloas.udistrital.edu.co",estilo:"kronos-info",descripcion:"Apoyar el libre desarrollo de los procesos financieros y reporte de información a entes de control"},{nombre:"TITAN",url:"https://www.google.com",estilo:"titan-info",descripcion:"Construir las diferentes nóminas y pago de honorarios de los compromisos contractuales"}]},{nombre:"ATHENEA - Analíticos",color:"#397A18",aplicaciones:[{nombre:"SPAGOBI",url:"https://www.google.com",estilo:"spagobi-info",descripcion:"Una breve descripción acerca de spagobi"},{nombre:"CIRENE",url:"https://www.google.com",estilo:"cirene-info",descripcion:"Una breve descripción acerca de cirene"},{nombre:"APEA",url:"https://www.google.com",estilo:"apea-info",descripcion:"Una breve descripción acerca de apea"}]}],prod:[{nombre:"GAIA - Gestión Administrativa",color:"#8E2825",aplicaciones:[{nombre:"AGORA",url:"https://www.google.com",estilo:"agora-info",descripcion:"Banco de proveedores que apoya procesos de cotización y contratación"},{nombre:"ARGO",url:"https://www.google.com",estilo:"argo-info",descripcion:"Apoyo en la gestión de procesos precontractuales, contractuales y de compras"},{nombre:"ARKA",url:"https://www.google.com",estilo:"arka-info",descripcion:"Gestión de los movimientos de almacén e inventarios apoyando los procesos relacionados a bienes"},{nombre:"CUMPLIDOS",url:"https://pruebascumplidos.portaloas.udistrital.edu.co",estilo:"cumplidos-info",descripcion:"Apoyo de procesos postcontractuales tanto para docentes de vinculacion especial como CPS"},{nombre:"RESOLUCIONES",url:"https://pruebasresoluciones.portaloas.udistrital.edu.co",estilo:"resoluciones-info",descripcion:"Gestión del vinculo contractual de los docentes de vinculación especial apoyando procesos de RRHH"},{nombre:"OIKOS",url:"https://www.google.com",estilo:"oikos-info",descripcion:"Registro y definición de las dependencias y espacios físicos de la universidad distrital"},{nombre:"SISIFO",url:"https://www.google.com",estilo:"sisifo-info",descripcion:"Sistema de gestion de planes de mejoramiento para los procesos académico administrativos"},{nombre:"TEMIS",url:"https://www.google.com",estilo:"temis-info",descripcion:"Apoyo en la definición y cálculo de las cuotas partes pensionales con entidades externas"},{nombre:"PERSEO",url:"https://www.google.com",estilo:"perseo-info",descripcion:"Permitir el desarrollo de procesos electorales dentro de la universidad de forma digital"}]},{nombre:"URANO - Gestión Académica",color:"#15485E",aplicaciones:[{nombre:"JANO",url:"https://www.google.com",estilo:"jano-info",descripcion:"Apoyo en el desarrollo de concursos de mérito para ocupar plazas de planta docente"},{nombre:"KYRON",url:"https://www.google.com",estilo:"kyron-info",descripcion:"Registro y consolidación de información de producción académica de docentes de planta"},{nombre:"POLUX",url:"https://www.google.com",estilo:"polux-info",descripcion:"Apoya la gestion de trabajos de grado"},{nombre:"SGA",url:"https://pruebassga.portaloas.udistrital.edu.co",estilo:"sga-info",descripcion:"Apoya el desarrollo de la misión de la universidad, así como diversos procesos administrativos"},{nombre:"CAMPUS",url:"https://www.google.com",estilo:"campus-info",descripcion:"Campus Virtual para postgrados"},{nombre:"SICIUD",url:"https://www.google.com",estilo:"siciud-info",descripcion:"Una breve descripción acerca de sisiud"}]},{nombre:"NIX - Gestión Financiera",color:"#DE9E0F",aplicaciones:[{nombre:"KRONOS",url:"https://pruebaspresupuesto.portaloas.udistrital.edu.co",estilo:"kronos-info",descripcion:"Apoyar el libre desarrollo de los procesos financieros y reporte de información a entes de control"},{nombre:"TITAN",url:"https://www.google.com",estilo:"titan-info",descripcion:"Construir las diferentes nóminas y pago de honorarios de los compromisos contractuales"}]},{nombre:"ATHENEA - Analíticos",color:"#397A18",aplicaciones:[{nombre:"SPAGOBI",url:"https://www.google.com",estilo:"spagobi-info",descripcion:"Una breve descripción acerca de spagobi"},{nombre:"CIRENE",url:"https://www.google.com",estilo:"cirene-info",descripcion:"Una breve descripción acerca de cirene"},{nombre:"APEA",url:"https://www.google.com",estilo:"apea-info",descripcion:"Una breve descripción acerca de apea"}]}]},b=(v.prototype.closePanel=function(){this.menuActivo=!1,this.activo.next({activo:this.menuActivo})},v.prototype.getRole=function(){if(null!==window.localStorage.getItem("id_token")){this.isLogin=!0;var e=window.localStorage.getItem("id_token").split(".");return JSON.parse(atob(e[1])).role.map(function(e){return{Nombre:e}})}this.isLogin=!1,this.dataFilterSubject.next(this.categorias)},v.prototype.toogleMenuNotify=function(){this.menuActivo=!this.menuActivo;var e={activo:this.menuActivo};this.activo.next(e)},v.prototype.init=function(e){console.info("...Init lib menu"),console.info(e),this.categorias=e,this.dataFilterSubject.next(this.categorias),this.getAplication()},v.prototype.getAplication=function(){var t=this;return this.configuracionService.post("aplicacion_rol/aplicacion_rol",this.roles).subscribe(function(o){var e=t.categorias.map(function(e){return e.aplicaciones=e.aplicaciones.filter(function(e){return t.existe(e.nombre,o)}),e.aplicaciones=e.aplicaciones.map(function(e){return u({},e,{estilo_logo:e.estilo.split("-")[0]})}),e});e=e.filter(function(e){return 0<e.aplicaciones.length}),console.info(e),t.dataFilterSubject.next(e)}),this.eventFilter$},v.prototype.existe=function(o,e){return 0<e.filter(function(e){return o.toLowerCase()===e.Nombre.toLowerCase()}).length},v.decorators=[{type:c.Injectable,args:[{providedIn:"root"}]}],v.ctorParameters=function(){return[{type:p}]},v.ngInjectableDef=c.defineInjectable({factory:function(){return new v(c.inject(p))},token:v,providedIn:"root"}),v);function v(e){var o=this;this.configuracionService=e,this.dataFilterSubject=new i.BehaviorSubject([]),this.eventFilter$=this.dataFilterSubject.asObservable(),this.activo=new i.BehaviorSubject({}),this.activo$=this.activo.asObservable(),this.isLogin=!1,this.menuActivo=!1,this.roles=this.getRole(),i.fromEvent(document,"mouseup").subscribe(function(e){o.activo&&(window.innerWidth-320<e.pageX&&77<e.pageY&&e.pageY<578||o.closePanel())})}var y=(x.prototype.initLib=function(e){var o=e.CONFIGURACION_SERVICE,t=e.NOTIFICACION_SERVICE,i=e.entorno,n=e.notificaciones,r=e.menuApps;this.confService.setPath(o),n&&this.notioasService.init(t),r&&this.menuService.init(w[i])},x.decorators=[{type:c.Injectable,args:[{providedIn:"root"}]}],x.ctorParameters=function(){return[{type:p},{type:g},{type:b}]},x.ngInjectableDef=c.defineInjectable({factory:function(){return new x(c.inject(p),c.inject(g),c.inject(b))},token:x,providedIn:"root"}),x);function x(e,o,t){this.confService=e,this.notioasService=o,this.menuService=t}var S=(I.prototype.ngOnInit=function(){},I.decorators=[{type:c.Component,args:[{selector:"lib-utilidades-core",template:"\n    <p>\n      utilidades-core works!\n    </p>\n  "}]}],I.ctorParameters=function(){return[]},I);function I(){}var A=(_.decorators=[{type:c.NgModule,args:[{declarations:[S],imports:[],exports:[S]}]}],_);function _(){}var k=(C.prototype.ngOnInit=function(){var t=this;this.notificacionService.activo$.subscribe(function(e){var o=e.activo;t.activo=o})},C.prototype.searchEntries=function(o){var e=[];return e.push(this.notificacionService.listMessage.filter(function(e){return-1!==e.Content.Message.Message.indexOf(o)||-1!==e.User.indexOf(o)})),e},C.prototype.redirect=function(e){this.notificacionService.changeStateToView(e.Id,e.Estado),console.info(e);var o=window.location.origin;-1===e.Content.Message.Link.indexOf(o)?window.open(e.Content.Message.Link,"_blank"):this.router.navigate([e.Content.Message.Link.substring(e.Content.Message.Link.indexOf("#")+1)])},C.decorators=[{type:c.Component,args:[{selector:"lib-notioas",template:'<div id="menu" [ngClass]="{\'aplicaciones_menu_container\': true, \'menu_is_active\': activo }">\n  <div class="title-notifications">\n    <p>Notificaciones</p>\n  </div>\n  <div class="row">\n      <div class="input-group">\n        <input type="text" class="form-control" (keyup)="searchTerm$.next($event.target.value)" placeholder="Search ...">\n        <span class="input-group-append">\n        </span>\n      </div>\n    </div>\n    <br>\n    <div class="notifications-container">\n        <div *ngFor="let notificacion of notificaciones" (click)="redirect(notificacion)"\n        [id]="notificacion.Estado" class="notification-item">\n            <div class="notifications-image-container">\n              <div class="menu-app" [id]="notificacion.EstiloIcono"></div>\n            </div>\n            <div class="notifications-text-container" >\n              <p> {{notificacion.Alias}} </p>\n              <p>\n                {{notificacion.Content.Message.Message}}\n              </p>\n              <p>\n                {{notificacion.FechaCreacion | amLocale:\'es\' | amTimeAgo:true}}\n              </p>\n            </div>\n      </div>\n    </div>\n</div>',styles:['@import url(https://pruebasassets.portaloas.udistrital.edu.co/logo-stylus.css);.aplicaciones_menu_container p{margin-bottom:11px;margin-top:0}.title-notifications{text-align:center;font-family:"Open Sans",sans-serif;font-size:22px}.menu-app{border-radius:7px;border:1px solid;-webkit-box-shadow:0 0 8px #888;box-shadow:0 0 8px #888}#ENVIADA,#enviada,#noleida{background-color:rgba(43,54,67,.1)}.notification-item{display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-orient:horizontal;-webkit-box-direction:normal;-ms-flex-direction:row;flex-direction:row;width:100%;cursor:pointer;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-box-pack:center;-ms-flex-pack:center;justify-content:center}.notifications-image-container{width:25%}.notifications-text-container{width:68%;margin-left:5px}.notifications-text-container p{margin:0;font-family:"Open Sans",sans-serif;color:#000;white-space:normal;font-size:15px}.form-control{margin:0 23px;font-family:"Open Sans",sans-serif;width:86%}.aplicaciones_menu_container{background:#fff;border:1px solid rgba(0,0,0,.2);color:#000;-webkit-box-shadow:0 2px 10px rgba(48,90,208,.2);box-shadow:0 2px 10px rgba(0,0,0,.2);position:fixed;top:77px;-webkit-border-radius:2px;right:-100vw;border-radius:2px;overflow-y:auto;overflow-x:hidden;height:720px;width:320px;-webkit-transition:.3s;transition:.3s;padding-top:10px;z-index:1}.menu_is_active{right:0}']}]}],C.ctorParameters=function(){return[{type:g},{type:s.Router}]},C);function C(e,o){var t=this;this.notificacionService=e,this.router=o,this.searchTerm$=new i.Subject,this.activo=!1,this.notificaciones=[],this.notificacionService.arrayMessages$.subscribe(function(e){t.notificaciones=e}),this.searchTerm$.pipe(r.debounceTime(700),r.distinctUntilChanged(),r.switchMap(function(e){return t.searchEntries(e)})).subscribe(function(e){t.notificaciones=e}),this.notificacionService.getNotificaciones()}var O=(N.decorators=[{type:c.NgModule,args:[{declarations:[k],imports:[l.CommonModule,t.HttpClientModule,o.MomentModule],exports:[k]}]}],N);function N(){}var E=(j.prototype.init=function(e){if(this.environment=e,null===window.localStorage.getItem("access_token")||window.localStorage.getItem("access_token")===undefined){for(var o={},t=location.hash.substring(1),i=/([^&=]+)=([^&]*)/g,n=void 0;n=i.exec(t);)o[decodeURIComponent(n[1])]=decodeURIComponent(n[2]);var r=new XMLHttpRequest,a="https://"+window.location.host+"?"+t;r.open("GET",a,!0),null!==o.id_token&&o.id_token!==undefined?(window.localStorage.setItem("access_token",o.access_token),window.localStorage.setItem("id_token",o.id_token),window.localStorage.setItem("expires_in",o.expires_in),window.localStorage.setItem("state",o.state)):this.clearStorage(),r.onreadystatechange=function(e){4===r.readyState&&(200===r.status||400===r.status&&window.alert("There was an error processing the token."))}}this.setExpiresAt(),this.timer(),this.clearUrl()},j.prototype.logout=function(){this.logout_url=this.environment.SIGN_OUT_URL,this.logout_url+="?id_token_hint="+window.localStorage.getItem("id_token"),this.logout_url+="&post_logout_redirect_uri="+this.environment.SIGN_OUT_REDIRECT_URL,this.logout_url+="&state="+window.localStorage.getItem("state"),this.clearStorage(),window.location.replace(this.logout_url)},j.prototype.getPayload=function(){var e=window.localStorage.getItem("id_token").split(".");return JSON.parse(atob(e[1]))},j.prototype.logoutValid=function(){for(var e,o,t=location.search.substring(1),i=/([^&=]+)=([^&]*)/g;o=i.exec(t);)e=decodeURIComponent(o[2]);return window.localStorage.getItem("state")===e&&(this.clearStorage(),!0)},j.prototype.login=function(e){return"undefined"!==window.localStorage.getItem("id_token")&&null!==window.localStorage.getItem("id_token")&&!this.logoutValid()||(e||this.getAuthorizationUrl(),!1)},j.prototype.live=function(){return!!this.login(!0)},j.prototype.clearUrl=function(){var e=window.location.origin+window.location.pathname;window.history.replaceState({},document.title,e)},j.prototype.getAuthorizationUrl=function(){this.params=this.environment,this.params.nonce||(this.params.nonce=this.generateState()),this.params.state||(this.params.state=this.generateState());var e=this.params.AUTORIZATION_URL+"?client_id="+encodeURIComponent(this.params.CLIENTE_ID)+"&redirect_uri="+encodeURIComponent(this.params.REDIRECT_URL)+"&response_type="+encodeURIComponent(this.params.RESPONSE_TYPE)+"&scope="+encodeURIComponent(this.params.SCOPE)+"&state_url="+encodeURIComponent(window.location.hash);return this.params.nonce&&(e+="&nonce="+encodeURIComponent(this.params.nonce)),e+="&state="+encodeURIComponent(this.params.state),window.location.replace(e),e},j.prototype.generateState=function(){var e=((Date.now()+Math.random())*Math.random()).toString().replace(".","");return a.Md5.hashStr(e)},j.prototype.setExpiresAt=function(){if(null===window.localStorage.getItem("expires_at")||window.localStorage.getItem("expires_at")===undefined||"Invalid Date"===window.localStorage.getItem("expires_at")){var e=new Date;e.setSeconds(e.getSeconds()+parseInt(window.localStorage.getItem("expires_in"),10)-60),window.localStorage.setItem("expires_at",e.toUTCString())}},j.prototype.expired=function(){return new Date(window.localStorage.getItem("expires_at"))<new Date},j.prototype.timer=function(){var e=this;setInterval(function(){null!==window.localStorage.getItem("expires_at")?e.expired()&&(e.logout(),e.clearStorage()):window.location.reload()},5e3)},j.prototype.clearStorage=function(){window.localStorage.removeItem("access_token"),window.localStorage.removeItem("id_token"),window.localStorage.removeItem("expires_in"),window.localStorage.removeItem("state"),window.localStorage.removeItem("expires_at")},j.decorators=[{type:c.Injectable,args:[{providedIn:"root"}]}],j.ctorParameters=function(){return[]},j.ngInjectableDef=c.defineInjectable({factory:function(){return new j},token:j,providedIn:"root"}),j);function j(){this.bearer={headers:new t.HttpHeaders({Accept:"application/json",authorization:"Bearer "+window.localStorage.getItem("access_token")})}}var M=(R.prototype.redirect=function(e){var o=window.location.origin;-1===e.indexOf(o)?window.open(e,"_blank"):this.router.navigate([e.substring(e.indexOf("#")+1)])},R.prototype.ngOnInit=function(){var t=this;this.menuService.activo$.subscribe(function(e){var o=e.activo;t.activo=o})},R.decorators=[{type:c.Component,args:[{selector:"menu-aplicaciones",template:'<div id="menu" [ngClass]="{\'aplicaciones_menu_container\': true, \'menu_is_active\': activo }">\n  <div class="container-aplicativos">\n    <article *ngFor="let categoria of menuService.eventFilter$ | async" class="card">\n      <div class="title-app-menu-div" [ngStyle]="{\'background-color\': categoria.color}">\n        <h5 class="categoria-title" >{{categoria.nombre}}</h5>\n      </div>\n      <div class="app-image-container">\n        <div *ngFor="let aplicacion of categoria.aplicaciones" class="image-application" (click)="redirect(aplicacion.url)">\n            <img class="menu-app" [id]="aplicacion.estilo_logo">\n        </div>\n      </div>\n    </article>\n  </div>\n</div>',styles:['@import url(https://pruebasassets.portaloas.udistrital.edu.co/logo-stylus.css);.aplicaciones_menu_container p{margin-bottom:11px;margin-top:0}.title-notifications{text-align:center;font-family:"Open Sans",sans-serif;font-size:22px}.menu-app{border-radius:7px;border:1px solid;-webkit-box-shadow:0 0 8px #888;box-shadow:0 0 8px #888}#ENVIADA,#enviada,#noleida{background-color:rgba(43,54,67,.1)}.notification-item{display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-orient:horizontal;-webkit-box-direction:normal;-ms-flex-direction:row;flex-direction:row;width:100%;cursor:pointer;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-box-pack:center;-ms-flex-pack:center;justify-content:center}.notifications-image-container{width:25%}.notifications-text-container{width:68%;margin-left:5px}.notifications-text-container p{margin:0;font-family:"Open Sans",sans-serif;color:#000;white-space:normal;font-size:15px}.form-control{margin:0 23px;font-family:"Open Sans",sans-serif;width:86%}.title-app-menu-div{text-align:center;margin-bottom:5px}.aplicaciones_menu_container{background:#fff;border:1px solid #d6dae1;color:#000;-webkit-box-shadow:1px 0 17px #888;box-shadow:1px 0 17px #888;position:fixed;top:77px;-webkit-border-radius:2px;right:-100vw;border-radius:2px;overflow-y:auto;overflow-x:hidden;height:560px;width:320px;-webkit-transition:.3s;transition:.3s;z-index:1}.menu_is_active{right:0}.app-image-container{display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-pack:space-evenly;-ms-flex-pack:space-evenly;justify-content:space-evenly;-ms-flex-wrap:wrap;flex-wrap:wrap;-webkit-box-align:center;-ms-flex-align:center;align-items:center}.image-application{width:30%;margin-bottom:10px;display:-webkit-box;display:-ms-flexbox;display:flex;-ms-flex-wrap:wrap;flex-wrap:wrap;-webkit-box-pack:center;-ms-flex-pack:center;justify-content:center}.categoria-title{color:#fff}']}]}],R.ctorParameters=function(){return[{type:b},{type:g},{type:s.Router}]},R);function R(e,o,t){this.menuService=e,this.notioasService=o,this.router=t}var U=(P.decorators=[{type:c.NgModule,args:[{declarations:[M],imports:[l.CommonModule],exports:[M]}]}],P);function P(){}e.UtilidadesCoreService=y,e.UtilidadesCoreComponent=S,e.UtilidadesCoreModule=A,e.NotioasService=g,e.NotioasComponent=k,e.NotioasModule=O,e.MenuAplicacionesService=b,e.ImplicitAutenticationService=E,e.MenuAplicacionesComponent=M,e.MenuAplicacionesModule=U,e.ɵa=p,Object.defineProperty(e,"__esModule",{value:!0})});
//# sourceMappingURL=utilidades-core.umd.min.js.map